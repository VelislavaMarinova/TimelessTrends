<div class="product-list-container">
    <div
        *ngIf="isLoading"
        class="product-list-loader"
    >
        <app-loader />
    </div>
    <div *ngIf="!isLoading">

        <div
            *ngIf="!noProductsInTheList"
            class="all-cards-container"
        >
            <h1>{{category | uppercase}}</h1>
            <p> {{productsToLoad.length}} products loaded from total: {{products.length}} </p>

            <app-sort-products
                (sortChange)="onSortChange($event)"
                (sortDirectionChange)="onSortDirectionChange($event)"
            />

            <div class="side-bar">

                <app-sidebar
                    [brands]="brands"
                    (brandFilterChange)="onBrandFilterChange($event)"
                    (priceFilterChange)="onPriceFilterChange($event)"
                />
            </div>

            <ul class="all-cards">
                <app-product-card
                    *ngFor="let product of productsToLoad 
                    | sort:[sortByParam, sortDirection] 
                    | filterByPrice: [filterByPrice] 
                    | filterByBrand:[filterByBrand] "
                    [product]="product"
                />
            </ul>
            <button
                (click)="onLoadMore()"
                [disabled]="!loadMore"
            >Load More</button>
        </div>
        <p
            class="no-products"
            *ngIf="noProductsInTheList"
        >No products in {{category}} category!</p>
    </div>

</div>