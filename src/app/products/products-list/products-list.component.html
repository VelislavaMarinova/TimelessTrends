<div class="product-list-container">
    <div *ngIf="isLoading" class="product-list-loader">
        <app-loader />
    </div>
    <div *ngIf="!isLoading">

        <div
            *ngIf="!noProductsInTheList"
            class="all-cards-container"
        >
            <h1>{{category | uppercase}}</h1>
            <p> {{productsToLoad.length}} products loaded from total: {{products.length}} </p>

            <div class="sort">
                <label>Sort</label>
                <select [(ngModel)]="sortByParam">
                    <option value="title">Product Name</option>
                    <option value="price">Price</option>
                </select>
                <button
                    *ngIf="sortByParam && sortDirection"
                    type="button"
                    (click)="onSortDirection()"
                >
                    <div *ngIf="sortByParam === 'title'">
                        <i
                            *ngIf="sortDirection === 'asc'"
                            class="fa-solid fa-arrow-up-z-a"
                        ></i>
                        <i
                            *ngIf="sortDirection === 'desc'"
                            class="fa-solid fa-arrow-down-z-a"
                        ></i>
                    </div>
                    <div *ngIf="sortByParam === 'price'">
                        <i
                            *ngIf="sortDirection === 'asc'"
                            class="fa-solid fa-arrow-up-1-9"
                        ></i>
                        <i
                            *ngIf="sortDirection === 'desc'"
                            class="fa-solid fa-arrow-down-9-1"
                        ></i>
                    </div>
                </button>
            </div>
            <div class="side-bar">

                <div class="filter">
                    <label>Filter by price</label>
                    <select [(ngModel)]="filterByPrice">
                        <option
                            value="choose"
                            disabled
                            hidden
                        >choose option...</option>
                        <option value="remove">remove filter</option>
                        <option value="0-49">0-49</option>
                        <option value="50-99">50-99</option>
                        <option value="100-149">100-149</option>
                        <option value="150-199">150-199</option>
                    </select>
                </div>
                <div class="filter">
                    <label>Filter by brand</label>
                    <select [(ngModel)]="filterByBrand">
                        <option
                            value="choose"
                            disabled
                            hidden
                        >choose option...</option>
                        <option value="remove">remove filter</option>
                        <option
                            *ngFor="let brand of brands"
                            value="{{brand}}"
                        >{{brand }}</option>
                    </select>
                </div>
            </div>

            <ul class="all-cards">
                <app-product-card
                    *ngFor="let product of productsToLoad | sort:[sortByParam, sortDirection] | filterByPrice: [filterByPrice] |filterByBrand:[filterByBrand] "
                    [product]="product"
                />
            </ul>
            <button
                (click)="onLoadMore()"
                [disabled]="!loadMore"
            >Load More</button>
        </div>
        <p
            class="no-products"
            *ngIf="noProductsInTheList"
        >No products in {{category}} category!</p>
    </div>

</div>