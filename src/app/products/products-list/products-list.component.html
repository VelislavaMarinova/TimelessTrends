<div class="container">
    <div *ngIf="isLoading">
        <app-loader />
    </div>
    <div *ngIf="!isLoading">

        <div
            *ngIf="!noProductsInTheList"
            class="all-cards-container"
        >

            <h1>{{category}}</h1>
            <p>Scroll down to view the first set of {{numLoadedProducs}} items</p>
            <div *ngIf="productsToLoad.length>0">

                <div class="sort">
                    <label>Sort</label>
                    <select [(ngModel)]="sortByParam">
                        <option value="title">Product Name</option>
                        <option value="price">Price</option>
                    </select>
                    <button
                        *ngIf="sortByParam && sortDirection"
                        type="button"
                        (click)="onSortDirection()"
                    >
                        <div *ngIf="sortByParam === 'title'">
                            <i
                                *ngIf="sortDirection==='asc'"
                                class="fa-solid fa-arrow-up-z-a"
                            ></i>
                            <i
                                *ngIf="sortDirection==='desc'"
                                class="fa-solid fa-arrow-down-z-a"
                            ></i>
                        </div>
                        <div *ngIf="sortByParam === 'price'">
                            <i
                                *ngIf="sortDirection==='asc'"
                                class="fa-solid fa-arrow-up-1-9"
                            ></i>
                            <i
                                *ngIf="sortDirection==='desc'"
                                class="fa-solid fa-arrow-down-9-1"
                            ></i>
                        </div>
                    </button>

                </div>
            </div>
            <ul class="all-cards">
                <app-product-card
                    *ngFor="let product of productsToLoad | sort:[sortByParam, sortDirection]"
                    [product]="product"
                />
            </ul>
            <button
                (click)="onLoadMore()"
                [disabled]="!loadMore"
            >Load More</button>
        </div>
        <p
            class="no-products"
            *ngIf="noProductsInTheList"
        >No products in {{category}} category!</p>
    </div>

</div>